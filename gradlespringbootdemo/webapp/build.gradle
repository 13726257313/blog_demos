buildscript {
    ext {
        projectMainClassName = 'com.bolingcavalry.DemoApplication'
    }
}

plugins {
    id 'org.springframework.boot'
//    id 'io.spring.dependency-management'
}

// 用了插件org.springframework.boot之后，jar task会失效，可用bootJar取代
bootJar {
    baseName = "$project.name"
    version = "$version"

    manifest {
        attributes(
                'Created-By': "${System.properties['java.version']} (${System.properties['java.vendor']} ${System.properties['java.vm.version']})".toString(),
                'Built-By': 'travis',
                'Build-Date': buildDate,
                'Build-Time': buildTime,
                'Built-OS': "${System.properties['os.name']}",
                'Specification-Title': project.name,
                'Specification-Version': projectVersion,
                'Specification-Vendor': 'Will Zhao',
                'Implementation-Title': project.name,
                'Implementation-Version': projectVersion,
                'Implementation-Vendor': 'Will Zhao'
        )
    }
}

// 子模块自己的依赖
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation project(':democlient')
}

test {
    useJUnitPlatform()
}